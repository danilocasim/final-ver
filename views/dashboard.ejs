
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Filipino Legal Buddy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="main.css" />
  </head>

  <body>
  
    <%- include("partials/navbar") %>
    <div class="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-100 via-blue-50 to-blue-200"


    </div>
    <div
      class="w-full max-w-5xl p-6 bg-[hsl(var(--card))] rounded-[var(--radius)] shadow-lg border-2 border-[hsl(var(--border))] flex flex-col gap-6"
    >

      <!-- Category Section -->
      <div class="flex-1">
        <label class="block text-[hsl(var(--foreground))] font-semibold mb-3">
          Pumili ng kategorya:
        </label>
        <div class="grid grid-cols-2 gap-3">
          <div
            class="category-card active cursor-pointer relative overflow-hidden rounded-[var(--radius)] border-2 border-[hsl(var(--border))] p-4 text-center bg-[hsl(var(--card))] hover:border-[hsl(var(--primary))] hover:shadow-lg transition transform hover:-translate-y-1"
            data-value="TENANT"
          >
            <div class="text-2xl mb-2 relative z-10">üè†</div>
            <div
              class="text-sm font-semibold text-[hsl(var(--card-foreground))] relative z-10"
            >
              Tenant / Renter Issues
            </div>
          </div>
          <div
            class="category-card cursor-pointer relative overflow-hidden rounded-[var(--radius)] border-2 border-[hsl(var(--border))] p-4 text-center bg-[hsl(var(--card))] hover:border-[hsl(var(--primary))] hover:shadow-lg transition transform hover:-translate-y-1"
            data-value="WORKPLACE"
          >
            <div class="text-2xl mb-2 relative z-10">üíº</div>
            <div
              class="text-sm font-semibold text-[hsl(var(--card-foreground))] relative z-10"
            >
              Workplace / Labor Issues
            </div>
          </div>
          <div
            class="category-card cursor-pointer relative overflow-hidden rounded-[var(--radius)] border-2 border-[hsl(var(--border))] p-4 text-center bg-[hsl(var(--card))] hover:border-[hsl(var(--primary))] hover:shadow-lg transition transform hover:-translate-y-1"
            data-value="BARANGAY"
          >
            <div class="text-2xl mb-2 relative z-10">üèòÔ∏è</div>
            <div
              class="text-sm font-semibold text-[hsl(var(--card-foreground))] relative z-10"
            >
              Barangay / Community Issues
            </div>
          </div>
          <div
            class="category-card cursor-pointer relative overflow-hidden rounded-[var(--radius)] border-2 border-[hsl(var(--border))] p-4 text-center bg-[hsl(var(--card))] hover:border-[hsl(var(--primary))] hover:shadow-lg transition transform hover:-translate-y-1"
            data-value="GENERAL"
          >
            <div class="text-2xl mb-2 relative z-10">‚öñÔ∏è</div>
            <div
              class="text-sm font-semibold text-[hsl(var(--card-foreground))] relative z-10"
            >
              General Legal Concern
            </div>
          </div>
        </div>
     </div>

      <!-- Start Button & Features -->
      <div class="flex-1 flex flex-col justify-between gap-5">
        <!-- Features -->
        <div class="pt-6 border-t border-[hsl(var(--border))]">
          <div
            class="text-center text-[hsl(var(--muted-foreground))] font-semibold mb-4 text-sm"
          >
            ‚ú® Mga Features
          </div>
          <div class="grid grid-cols-2 gap-10 bg-[#F1F5F9] radius-10 p-10">
            <div
              class="flex items-start gap-2 text-[hsl(var(--muted-foreground))] text-sm"
            >
              <span class="text-[hsl(var(--primary))] font-bold text-lg">‚úì</span
              >Voice chat sa Tagalog at English
            </div>
            <div
              class="flex items-start gap-2 text-[hsl(var(--muted-foreground))] text-sm"
            >
              <span class="text-[hsl(var(--primary))] font-bold text-lg">‚úì</span
              >Real-time legal guidance
            </div>
            <div
              class="flex items-start gap-2 text-[hsl(var(--muted-foreground))] text-sm"
            >
              <span class="text-[hsl(var(--primary))] font-bold text-lg">‚úì</span
              >Automatic report generation
            </div>
            <div
              class="flex items-start gap-2 text-[hsl(var(--muted-foreground))] text-sm"
            >
              <span class="text-[hsl(var(--primary))] font-bold text-lg">‚úì</span
              >Step-by-step action plan
            </div>
          </div>
        </div>
        <!-- Start Button -->
        <button
          class="w-full flex items-center justify-center gap-2 bg-gradient-to-br from-[hsl(var(--hero-gradient-start))] to-[hsl(var(--hero-gradient-end))] text-[hsl(var(--primary-foreground))] rounded-[var(--radius)] py-4 text-lg font-semibold shadow-lg transition transform hover:-translate-y-1 hover:shadow-xl active:translate-y-0"
          onclick="startSession()"
        >
          <svg
            class="w-6 h-6 animate-[pulse_2s_infinite_ease-in-out]"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"
            ></path>
          </svg>
          Magsimula ng Voice Call
        </button>


        <!-- Trust Badge -->
        <div
          class="pt-6 border-t border-[hsl(var(--border))] text-center flex items-center justify-center gap-2 text-[hsl(var(--muted-foreground))] text-xs"
        >
          <span class="text-[hsl(var(--primary))]">üîí</span>Secure &
          Confidential
        </div>
      </div>
    </div>
    </div>

    <script>
      let selectedCategory = "TENANT";

      document.querySelectorAll(".category-card").forEach(card => {
        card.addEventListener("click", function() {
          document.querySelectorAll(".category-card").forEach(c => c.classList.remove("active", "border-[#667eea]", "bg-gradient-to-br", "from-[#667eea]", "to-[#764ba215]"));
          this.classList.add("active", "border-[#667eea]", "bg-gradient-to-br", "from-[#667eea]/5", "to-[#764ba2]/5");
          selectedCategory = this.getAttribute("data-value");
        });
      });

      async function startSession() {
        try {
          const response = await fetch("/api/session/start", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ category: selectedCategory }),
          });
          const session = await response.json();
          window.location.href = `/call/${session.sessionId}`;
        } catch (err) {
          alert("Error starting session");
          console.error(err);
        }
      }
    </script>
  </body>
</html>
